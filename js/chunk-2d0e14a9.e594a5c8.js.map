{"version":3,"sources":["webpack:///./src/components/index/Type.vue?4859","webpack:///src/components/index/Type.vue","webpack:///./src/components/index/Type.vue?8dc3","webpack:///./src/components/index/Type.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","Object","keys","types","length","loadingTypes","staticClass","_v","_s","model","value","callback","$$v","selectedType","expression","_l","type","key","blogArticles","totalPages","loading","on","getCurrentPage","staticRenderFns","component","VCard","VCardTitle","VChip","VChipGroup","VContainer","VSkeletonLoader"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACE,MAAM,CAAC,MAAQ,KAAK,CAAkC,IAAhCC,OAAOC,KAAKR,EAAIS,OAAOC,QAAeV,EAAIW,aAAgDP,EAAG,MAAM,CAACA,EAAG,SAAS,CAACQ,YAAY,QAAQ,CAACR,EAAG,MAAM,CAACQ,YAAY,gCAAgC,CAACR,EAAG,eAAe,CAACQ,YAAY,kBAAkB,CAACZ,EAAIa,GAAG,QAAQT,EAAG,eAAe,CAACQ,YAAY,kBAAkB,CAACZ,EAAIa,GAAG,MAAMT,EAAG,OAAO,CAACQ,YAAY,oCAAoC,CAACZ,EAAIa,GAAGb,EAAIc,GAAGP,OAAOC,KAAKR,EAAIS,OAAOC,WAAWV,EAAIa,GAAG,SAAS,GAAGT,EAAG,eAAe,CAACE,MAAM,CAAC,OAAS,GAAG,eAAe,iBAAiBS,MAAM,CAACC,MAAOhB,EAAgB,aAAEiB,SAAS,SAAUC,GAAMlB,EAAImB,aAAaD,GAAKE,WAAW,iBAAiB,CAAEpB,EAAgB,aAAEI,EAAG,MAAM,CAACA,EAAG,oBAAoB,CAACE,MAAM,CAAC,KAAO,WAAW,GAAGF,EAAG,MAAMJ,EAAIqB,GAAId,OAAOC,KAAKR,EAAIS,QAAQ,SAASa,GAAM,OAAOlB,EAAG,SAAS,CAACmB,IAAID,EAAKhB,MAAM,CAAC,OAAS,GAAG,cAAc,kBAAkB,CAACN,EAAIa,GAAG,IAAIb,EAAIc,GAAGQ,EAAK,KAAKtB,EAAIS,MAAMa,GAAM,KAAK,UAAS,MAAM,GAAGlB,EAAG,iBAAiB,CAACE,MAAM,CAAC,gBAAgBN,EAAIwB,aAAa,aAAaxB,EAAIyB,WAAW,QAAUzB,EAAI0B,SAASC,GAAG,CAAC,oBAAsB3B,EAAI4B,mBAAmB,GAAp/BxB,EAAG,MAAM,CAACA,EAAG,kBAAkB,MAC3NyB,EAAkB,G,8CCiCtB,GACE,KAAF,OACE,WAAF,CAAI,cAAJ,OAAI,eAAJ,QACE,MAAF,cACE,KAAF,WAAI,MAAJ,CACM,MAAN,OACM,aAAN,OACM,kBAAN,GACM,aAAN,GACM,WAAN,EACM,SAAN,EACM,cAAN,IAEE,QAAF,CACI,cADJ,WAKM,IADA,IAAN,0BACA,mBACQ,GAAR,uBAEU,KAAV,eACU,QAIN,YAbJ,WAcM,IAAN,OACM,KAAN,8CAAQ,QAAR,CAAU,eAAV,yBACA,kBACQ,EAAR,gBACQ,IAAR,SACA,YACU,EAAV,kBACA,gBACY,EAAZ,gBAEY,EAAZ,mBAIA,YACQ,EAAR,gBACQ,QAAR,WAGI,YAjCJ,SAiCA,GACM,KAAN,WACM,IAAN,OACM,KAAN,8FAAQ,QAAR,CAAU,eAAV,yBACA,kBACQ,EAAR,WACQ,IAAR,SACA,YAEU,EAAV,6BACU,EAAV,6BAGA,YACQ,EAAR,WACQ,QAAR,WAGI,eAnDJ,SAmDA,GACM,KAAN,iBAIE,QArEF,WAsEI,KAAJ,eAEE,MAAF,CACI,aADJ,WAEM,IAAN,0BACM,KAAN,qBACM,KAAN,6CACM,KAAN,gBAEI,UAAJ,CACM,QADN,WAEQ,IAAR,OAEQ,YAAR,WACA,iCACY,EAAZ,kBAEA,MAGM,WAAN,KC5H2Z,I,yGCOvZC,EAAY,eACd,EACA/B,EACA8B,GACA,EACA,KACA,WACA,MAIa,aAAAC,EAAiB,QAUhC,IAAkBA,EAAW,CAACC,QAAA,KAAMC,WAAA,OAAWC,QAAA,KAAMC,aAAA,KAAWC,aAAA,KAAWC,kBAAA","file":"js/chunk-2d0e14a9.e594a5c8.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\"}},[(Object.keys(_vm.types).length===0 && !_vm.loadingTypes)?_c('div',[_c('EmptyArticles')],1):_c('div',[_c('v-card',{staticClass:\"pa-2\"},[_c('div',{staticClass:\"d-flex justify-space-between\"},[_c('v-card-title',{staticClass:\"pt-0 pb-0 ps-2\"},[_vm._v(\"分类\")]),_c('v-card-title',{staticClass:\"pt-0 pb-0 pe-2\"},[_vm._v(\" 共\"),_c('span',{staticClass:\"display-1 d-inline primary--text\"},[_vm._v(_vm._s(Object.keys(_vm.types).length))]),_vm._v(\"个 \")])],1),_c('v-chip-group',{attrs:{\"column\":\"\",\"active-class\":\"primary--text\"},model:{value:(_vm.selectedType),callback:function ($$v) {_vm.selectedType=$$v},expression:\"selectedType\"}},[(_vm.loadingTypes)?_c('div',[_c('v-skeleton-loader',{attrs:{\"type\":\"chip\"}})],1):_c('div',_vm._l((Object.keys(_vm.types)),function(type){return _c('v-chip',{key:type,attrs:{\"filter\":\"\",\"filter-icon\":\"mdi-view-list\"}},[_vm._v(\" \"+_vm._s(type+\" (\"+_vm.types[type]+\")\")+\" \")])}),1)])],1),_c('ArticlePreview',{attrs:{\"blog-articles\":_vm.blogArticles,\"total-page\":_vm.totalPages,\"loading\":_vm.loading},on:{\"transferCurrentPage\":_vm.getCurrentPage}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-container fluid>\r\n        <div v-if=\"Object.keys(types).length===0 && !loadingTypes\">\r\n            <EmptyArticles/>\r\n        </div>\r\n        <div v-else>\r\n            <v-card class=\"pa-2\">\r\n                <div class=\"d-flex justify-space-between\">\r\n                    <v-card-title class=\"pt-0 pb-0 ps-2\">分类</v-card-title>\r\n                    <v-card-title class=\"pt-0 pb-0 pe-2\">\r\n                        共<span class=\"display-1 d-inline primary--text\">{{Object.keys(types).length}}</span>个\r\n                    </v-card-title>\r\n                </div>\r\n                <v-chip-group column active-class=\"primary--text\" v-model=\"selectedType\">\r\n                    <div v-if=\"loadingTypes\">\r\n                        <v-skeleton-loader type=\"chip\"/>\r\n                    </div>\r\n                    <div v-else>\r\n                        <v-chip filter filter-icon=\"mdi-view-list\" v-for=\"type in Object.keys(types)\" :key=\"type\">\r\n                            {{type+\" (\"+types[type]+\")\"}}\r\n                        </v-chip>\r\n                    </div>\r\n                </v-chip-group>\r\n            </v-card>\r\n            <ArticlePreview @transferCurrentPage=\"getCurrentPage\" :blog-articles=\"blogArticles\" :total-page=\"totalPages\"\r\n                            :loading=\"loading\"/>\r\n        </div>\r\n    </v-container>\r\n</template>\r\n\r\n<script>\r\n    import ArticlePreview from \"@/components/ArticlePreview\"\r\n    import EmptyArticles from \"@/components/constant/EmptyArticles\"\r\n\r\n    export default {\r\n        name: \"Type\",\r\n        components: {EmptyArticles, ArticlePreview},\r\n        props: [\"paramType\"],\r\n        data: () => ({\r\n            types: Object,\r\n            selectedType: Number,\r\n            selectedTypesList: [],\r\n            blogArticles: [],\r\n            totalPages: 0,\r\n            loading: true,\r\n            loadingTypes: true\r\n        }),\r\n        methods: {\r\n            initParamType() {\r\n                // console.log(\"initParamType this.types\", this.types)\r\n                // console.log(\"initParamType this.paramType\", this.paramType)\r\n                let keys = Object.keys(this.types)\r\n                for (let i = 0; i < keys.length; i++) {\r\n                    if (keys[i] === this.paramType) {\r\n                        // console.log(i, keys[i], this.paramType)\r\n                        this.selectedType = i\r\n                        break\r\n                    }\r\n                }\r\n            },\r\n            getAllTypes() {\r\n                let _this = this\r\n                this.axios.get(this.API.URL.QUERY_TYPE_WITH_COUNT, {headers: {'Content-Type': 'multipart/form-data'}})\r\n                    .then(function (result) {\r\n                        _this.loadingTypes = false\r\n                        let data = result.data\r\n                        if (data.success) {\r\n                            _this.types = data.data\r\n                            if (_this.paramType !== undefined) {\r\n                                _this.initParamType()\r\n                            } else {\r\n                                _this.selectedType = 0\r\n                            }\r\n                        }\r\n                        // console.log(result)\r\n                    }, function (error) {\r\n                        _this.loadingTypes = false\r\n                        console.log(error)\r\n                    })\r\n            },\r\n            getArticles(currentPage) {\r\n                this.loading = true\r\n                let _this = this\r\n                this.axios.get(this.API.URL.QUERY_ARTICLE_BY_TYPE + \"&types=\" + this.selectedTypesList + \"&page=\" + (currentPage - 1), {headers: {'Content-Type': 'multipart/form-data'}})\r\n                    .then(function (result) {\r\n                        _this.loading = false\r\n                        let data = result.data\r\n                        if (data.success) {\r\n                            // console.log(data)\r\n                            _this.totalPages = data.data.totalPages\r\n                            _this.blogArticles = data.data.data\r\n                            // console.log(\"_this.blogArticles\", _this.blogArticles)\r\n                        }\r\n                    }, function (error) {\r\n                        _this.loading = false\r\n                        console.log(error)\r\n                    })\r\n            },\r\n            getCurrentPage(currentPage) {\r\n                this.getArticles(currentPage)\r\n                // console.log(\"从ArticlePreview传过来的当前page为\", currentPage)\r\n            }\r\n        },\r\n        mounted() {\r\n            this.getAllTypes()\r\n        },\r\n        watch: {\r\n            selectedType() {\r\n                let keys = Object.keys(this.types)\r\n                this.selectedTypesList = []\r\n                this.selectedTypesList.push(keys[this.selectedType])\r\n                this.getArticles(1)\r\n            },\r\n            paramType: {\r\n                handler() {\r\n                    let _this = this\r\n                    //避免首次获取不到\r\n                    setTimeout(() => {\r\n                        if (Object.keys(_this.types).length !== 0) {\r\n                            _this.initParamType()\r\n                        }\r\n                    }, 300)\r\n                },\r\n                // 首次进入页面即执行\r\n                immediate: true\r\n            }\r\n        },\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Type.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Type.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Type.vue?vue&type=template&id=100cb458&scoped=true&\"\nimport script from \"./Type.vue?vue&type=script&lang=js&\"\nexport * from \"./Type.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"100cb458\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VChipGroup } from 'vuetify/lib/components/VChipGroup';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VSkeletonLoader } from 'vuetify/lib/components/VSkeletonLoader';\ninstallComponents(component, {VCard,VCardTitle,VChip,VChipGroup,VContainer,VSkeletonLoader})\n"],"sourceRoot":""}