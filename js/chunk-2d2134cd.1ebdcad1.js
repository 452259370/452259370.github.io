(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2134cd"],{aba7:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ma-5"},[a("v-data-table",{staticClass:"elevation-2",attrs:{items:e.tags,loading:e.loading,page:e.currentPage,search:e.search,headers:e.headers,"sort-by":"id","hide-default-footer":"","items-per-page":10},on:{"update:page":function(t){e.currentPage=t}},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("标签列表")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"搜索",clearable:"","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-btn",{staticClass:"mb-2 me-2",attrs:{color:"primary",disabled:e.loading,icon:""},on:{click:e.refresh}},[e.loading?a("v-progress-circular",{attrs:{color:"primary",size:"18",width:"2",indeterminate:""}}):a("v-icon",[e._v("mdi-refresh")])],1),a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:"",replace:"",to:{path:"/admin/tag/newTag"}}},[e._v("新增")])],1)]},proxy:!0},{key:"item.id",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(i)}}},[e._v("mdi-pencil")]),a("strong",[e._v(e._s(i.id))])]}},{key:"item.name",fn:function(t){var a=t.item;return[e._v(" "+e._s(a.name)+" ")]}},{key:"item.createTime",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.UTIL.formatTime(a.createTime))+" ")]}},{key:"item.deleted",fn:function(t){var i=t.item;return[a("v-btn",{attrs:{icon:"",small:"",color:"error"},on:{click:function(t){return e.deleteItem(i)}}},[a("v-icon",[e._v(" "+e._s(i.deleted?"mdi-restore":"mdi-delete")+" ")])],1)]}}])}),a("v-pagination",{staticClass:"mt-5",attrs:{length:e.totalPages},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)},n=[],r=(a("c975"),a("a434"),a("b0c0"),{name:"TagList",components:{},data:function(){return{tags:[],currentPage:1,totalPages:0,loading:!0,search:"",headers:[{text:"序号",align:"left",value:"id"},{text:"名称",value:"name"},{text:"创建时间",value:"createTime"},{text:"删除",value:"deleted"}]}},computed:{},watch:{currentPage:function(e){this.$vuetify.goTo(0),this.getTags(e)}},methods:{editItem:function(e){this.$router.push({name:"/admin/tag/newTag",params:{tag:e}})},deleteItem:function(e){if(confirm("确定删除：\n"+e.name)){var t=this.tags.indexOf(e),a=this;this.axios.delete(this.API.URL.DELETE_TAG+e.id).then((function(e){var i=e.data;i.success&&(a.tags.splice(t,1),alert("删除成功"))}),(function(){return alert("删除失败")}))}},refresh:function(){this.currentPage=1,this.getTags(this.currentPage)},getTags:function(e){this.loading=!0;var t=this;this.axios.get(this.API.URL.QUERY_TAG+(e-1)).then((function(e){t.loading=!1;var a=e.data;a.success&&(t.totalPages=a.data.totalPages,t.tags=a.data.data)}),(function(e){t.loading=!1,console.log(e)}))}},created:function(){this.getTags(1)}}),s=r,c=a("2877"),o=a("6544"),l=a.n(o),d=a("8336"),u=a("8fea"),g=a("ce7e"),m=a("132d"),f=a("891e"),v=a("490a"),h=a("2fa4"),p=a("8654"),b=a("71d9"),T=a("2a7f"),P=Object(c["a"])(s,i,n,!1,null,"176a0e06",null);t["default"]=P.exports;l()(P,{VBtn:d["a"],VDataTable:u["a"],VDivider:g["a"],VIcon:m["a"],VPagination:f["a"],VProgressCircular:v["a"],VSpacer:h["a"],VTextField:p["a"],VToolbar:b["a"],VToolbarTitle:T["a"]})}}]);
//# sourceMappingURL=chunk-2d2134cd.1ebdcad1.js.map