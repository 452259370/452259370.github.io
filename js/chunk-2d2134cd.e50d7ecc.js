(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2134cd"],{aba7:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ma-5"},[a("v-data-table",{staticClass:"elevation-2",attrs:{items:t.tags,loading:t.loading,page:t.currentPage,search:t.search,headers:t.headers,"sort-by":"id","hide-default-footer":"","items-per-page":10},on:{"update:page":function(e){t.currentPage=e}},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("标签列表")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"搜索",clearable:"","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-btn",{staticClass:"mb-2 me-2",attrs:{color:"primary",disabled:t.loading,icon:""},on:{click:t.refresh}},[t.loading?a("v-progress-circular",{attrs:{color:"primary",size:"18",width:"2",indeterminate:""}}):a("v-icon",[t._v("mdi-refresh")])],1),a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:"",replace:"",to:{path:"/admin/tag/newTag"}}},[t._v("新增")])],1)]},proxy:!0},{key:"item.id",fn:function(e){var i=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(i)}}},[t._v("mdi-pencil")]),a("strong",[t._v(t._s(i.id))])]}},{key:"item.name",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.name)+" ")]}},{key:"item.createTime",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.UTIL.formatTime(a.createTime))+" ")]}},{key:"item.deleted",fn:function(e){var i=e.item;return[a("v-btn",{attrs:{icon:"",small:"",color:"error"},on:{click:function(e){return t.deleteItem(i)}}},[a("v-icon",[t._v(" "+t._s(i.deleted?"mdi-restore":"mdi-delete")+" ")])],1)]}}])}),a("v-pagination",{staticClass:"mt-5",attrs:{length:t.totalPages},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)},n=[],r=(a("c975"),a("a434"),a("b0c0"),{name:"TagList",components:{},data:function(){return{tags:[],currentPage:1,totalPages:0,loading:!0,search:"",headers:[{text:"序号",align:"left",value:"id"},{text:"名称",value:"name"},{text:"创建时间",value:"createTime"},{text:"删除",value:"deleted"}]}},computed:{},watch:{currentPage:function(t){this.$vuetify.goTo(0),this.getTags(t)}},methods:{editItem:function(t){this.$router.push({name:"/admin/tag/newTag",params:{tag:t}})},deleteItem:function(t){if(confirm("确定删除：\n"+t.name)){var e=this.tags.indexOf(t),a=this;this.axios.delete(this.API.URL.DELETE_TAG+t.id).then((function(t){var i=t.data;i.success&&(a.tags.splice(e,1),alert("删除成功"))}),(function(){return alert("删除失败")}))}},refresh:function(){this.currentPage=1,this.getTags(this.currentPage)},getTags:function(t){this.loading=!0;var e=this;this.axios.get(this.API.URL.QUERY_TAG+(t-1)).then((function(t){e.loading=!1;var a=t.data;a.success&&(e.totalPages=a.data.totalPages,e.tags=a.data.data)}),(function(){return e.loading=!1}))}},created:function(){this.getTags(1)}}),s=r,c=a("2877"),o=a("6544"),l=a.n(o),d=a("8336"),u=a("8fea"),g=a("ce7e"),m=a("132d"),f=a("891e"),v=a("490a"),h=a("2fa4"),p=a("8654"),b=a("71d9"),T=a("2a7f"),P=Object(c["a"])(s,i,n,!1,null,"695d8717",null);e["default"]=P.exports;l()(P,{VBtn:d["a"],VDataTable:u["a"],VDivider:g["a"],VIcon:m["a"],VPagination:f["a"],VProgressCircular:v["a"],VSpacer:h["a"],VTextField:p["a"],VToolbar:b["a"],VToolbarTitle:T["a"]})}}]);
//# sourceMappingURL=chunk-2d2134cd.e50d7ecc.js.map